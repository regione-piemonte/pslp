<!--
 * ========================LICENSE_START=================================
 * Copyright (C) 2025 Regione Piemonte
 * SPDX-FileCopyrightText: Copyright 2025 | Regione Piemonte
 * SPDX-License-Identifier: EUPL-1.2
 * =========================LICENSE_END==================================
 -->


  <div class="modal-header not-stampa">
    <!-- <h4 class="modal-title" id="modal-annulla-title">Stampa CV</h4> -->
    <!-- <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss()">
        <span aria-hidden="true">&times;</span>
    </button> -->
  </div>
  <div class="modal-body">

  <label small class="text-muted not-stampa">I campi contrassegnati con <span class="oblg">*</span> sono obbligatori</label>
  <div class="row not-stampa">
    <div class="mb-3 mt-3 col-7">
      <label for="colore">Scegli il colore<span class="oblg">*</span></label>
      <form [formGroup]="form">
        <p-dropdown  inputId="dropdown" [emptyMessage]="'Nessun dato trovato'" [autoDisplayFirst]="false"
        id="colore"
          [options]="colori" formControlName="colore" [(ngModel)]="colorSelected"
          class=" p-form-select" placeholder="" optionLabel="descr" optionValue="exaDecimal">
          <!-- ng-invalid ng-dirty  -->
        </p-dropdown>

        <fieldset>
          <legend>Stampa foto del fascicolo nel CV</legend>
          <ng-container *ngFor="let item of [{key:'Si',value:'S'},{key:'No',value:'N'}]" >
            <div class="form-check d-inline-block mr-2">
              <input class="form-check-input" type="radio" [value]="item.value" formControlName="stampaFoto"

                id="stampa{{item.key}}" aria-label="stampa foto in cv"
                (change)="onSelectStampaFoto()">
              <label class="form-check-label" for="stampa{{item.key}}">{{item.key}}</label>
            </div>
          </ng-container>
        </fieldset>
      </form>
    </div>
  </div>
  <div class="row">
    <pslpwcl-riepilogo #riepilogo
    [colorBg]="colorSelected"
    [foto]="imageUrl"
    [stampa]="true"
    [fotoVisibile]="fotoVisibile"
    ></pslpwcl-riepilogo>
  </div>

  </div>
  <div class="modal-footer row  not-stampa" >
    <div class="col">
        <button type="button"  class="btn btn-outline-secondary btn-sm"
        aria-label="Anulla stampa cv" (click)="activeModal.dismiss()">{{"annulla" | uppercase
            }}</button>
    </div>
    <div class="col-auto">
        <button  type="button" class="btn btn-primary ml-auto btn-lg"
        aria-label="scegli colore del cv" aria-disabled="!form.valid"
            (click)="activeModal.close({colorSelected,datiFoto,fotoVisibile})" [disabled]="!form.valid">Stampa CV</button>
    </div>

  </div>

